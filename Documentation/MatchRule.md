# Royal Match (皇家比赛) 匹配规则与道具指南

Royal Match 的核心玩法在于通过特定的形状匹配生成强力道具。以下是详细的判定规则、生成条件及组合效果。

## 一、 基础匹配规则
最基本的消除方式，主要用于调整盘面布局。

*   **规则**：将 **3个** 相同颜色的物品连成一条直线（横向或纵向）。
*   **效果**：消除这3个物品，上方的物品下落填补空缺。
*   **用途**：清理基础障碍，或者为凑出特殊道具做铺垫。

---

## 二、 特殊道具匹配规则（重点）
这是通关的核心。

### 1. 螺旋桨 (Propeller)
*   **匹配形状**：
    *   **标准螺旋桨**：**田字格 (2x2)**，恰好4个同色物品凑成正方形。
    *   **增强螺旋桨**：**田字格+1 (2x2+1)**，2x2核心外加周围1个同色物品，共5个宝石。
*   **生成道具**：带有四个叶片的螺旋桨。
*   **消除范围**：只消除匹配到的4个或5个宝石，不扩展到其他连续同色宝石。
*   **效果**：
    1.  **起飞前**：炸掉以自身为中心的 **"十"字型** 区域（上下左右相邻的4格）。
    2.  **飞行**：自动追踪并打击场上的一个 **通关目标**（优先打击难以触及的角落或关键障碍）。
*   **策略**：全屏追踪，是破局和收尾时的最佳选择。

### 2. 火箭 (Rocket)
*   **匹配形状**：**直线 4个** (横向或纵向)。
*   **生成道具**：烟花火箭。
*   **方向判定**：
    *   **左右滑动** 凑成直线 → 生成 **横向火箭**（清除一行）。
    *   **上下滑动** 凑成直线 → 生成 **纵向火箭**（清除一列）。
*   **效果**：清除整整一行或一列的所有物品（坚固障碍物扣除一层耐久）。

### 3. 炸药桶 (TNT)
*   **匹配形状**：
    *   **L型**：两个方向各有至少3个宝石（包括中心点），总共至少5个同色物品。
    *   **T型**：一个方向有3+个宝石作为主线，另一个方向只有单侧延伸2+个宝石，总共至少5个同色物品。
    *   **十字型**：水平和垂直方向都有至少3个宝石（包括中心点），归类为T型TNT。
*   **消除范围**：只消除匹配到的L型、T型或十字型的宝石，不扩展到其他连续同色宝石。
*   **生成道具**：黑色炸药桶。
*   **效果**：以炸药桶为中心，进行 **5x5 范围** 的大爆炸（半径为2格的圆圈）。
*   **策略**：清理大面积障碍物（如箱子堆、草地）的最高效道具。

### 4. 光球 (Light Ball)
*   **匹配形状**：**直线 5个** (横向或纵向)。
    > *注：直线6个或更多也是生成光球。*
*   **生成道具**：彩色的迪斯科球。
*   **效果**：点击或交换光球，会 **消除场面上所有** 与之交换颜色的物品。

---

## 三、 道具组合效果（Combo）
将两个相邻的道具进行交换，会触发比单独使用更强大的效果。

| 组合方式 | 效果描述 | 威力等级 |
| :--- | :--- | :--- |
| **火箭 + 火箭** | **十字消除**。同时清除当前行和当前列。 | ⭐⭐ |
| **火箭 + 炸药桶** | **超级贯穿**。清除 **3行 + 3列** 的所有物品。清理全场最高效手段之一。 | ⭐⭐⭐⭐⭐ |
| **火箭 + 螺旋桨** | **运载火箭**。螺旋桨带着火箭飞到目标点，落地后变成火箭触发十字消除。 | ⭐⭐⭐ |
| **炸药桶 + 炸药桶** | **核爆**。爆炸范围扩大到 **7x7**（甚至更大），清空半个屏幕。 | ⭐⭐⭐⭐ |
| **炸药桶 + 螺旋桨** | **自杀式无人机**。螺旋桨带着炸药桶飞到目标点，落地后触发 5x5 爆炸。 | ⭐⭐⭐ |
| **螺旋桨 + 螺旋桨** | **三发齐射**。产生3个螺旋桨，分别飞向3个不同的目标。 | ⭐⭐⭐ |
| **光球 + 火箭** | **全屏轰炸**。场上所有同色物品变成火箭，并随机方向引爆。 | ⭐⭐⭐⭐⭐ |
| **光球 + 炸药桶** | **全屏爆破**。场上所有同色物品变成炸药桶，并全部引爆。 | ⭐⭐⭐⭐⭐ |
| **光球 + 螺旋桨** | **全屏起飞**。场上所有同色物品变成螺旋桨，并全部起飞打击目标。 | ⭐⭐⭐⭐⭐ |
| **光球 + 光球** | **清屏**。消除屏幕上所有的普通物品（对障碍物造成一层伤害）。 | ⭐⭐⭐⭐⭐ |

---

## 四、 判定逻辑补充

1.  **消除范围规则**：所有匹配类型都只消除匹配到的具体宝石，不会自动扩展到周围的连续同色宝石。例如：
    *   L型匹配只消除L型的5个宝石
    *   T型匹配只消除T型或十字型的宝石
    *   2x2方块只消除4个或5个（2x2+1）宝石
    *   直线匹配（3连、4连、5连）只消除该直线上的宝石

2.  **匹配优先级**（从高到低）：
    *   **Light Ball（光球）** - 最高优先级
    *   **T型TNT（包括十字型）**
    *   **L型TNT**
    *   **2x2+1 增强螺旋桨**
    *   **2x2 螺旋桨**
    *   **Rocket（火箭）**
    *   **基础3连** - 最低优先级

3.  **形状判定细节**：
    *   **光球优先**：只要有一条直线达到5个，系统优先判定为光球。
    *   **L/T 优于 直线4**：如果形状既像L型又包含直线4个，系统判定为更高级的 **TNT**，而非火箭。
    *   **十字型归类为T型**：水平和垂直都有3+个宝石的十字型，归类为T型TNT。
    *   **掉落判定**：上方掉落的方块如果自动形成匹配，生成的道具会留在原地，并可能触发连锁反应。
